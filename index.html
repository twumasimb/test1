<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Calorie Tracker</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            background-color: #f4f4f9;
            color: #333;
            margin: 0;
            padding: 0;
            display: flex;
            flex-direction: column;
            align-items: center;
        }
        header {
            background-color: #4CAF50;
            color: white;
            width: 100%;
            padding: 1rem;
            text-align: center;
        }
        main {
            width: 90%;
            max-width: 600px;
            margin: 2rem 0;
        }
        form {
            background-color: white;
            padding: 1rem;
            border-radius: 5px;
            box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);
            margin-bottom: 1rem;
        }
        label {
            display: block;
            margin-bottom: 0.5rem;
            font-weight: bold;
        }
        input, select, textarea {
            width: 100%;
            padding: 0.5rem;
            margin-bottom: 1rem;
            border: 1px solid #ccc;
            border-radius: 4px;
        }
        button {
            background-color: #4CAF50;
            color: white;
            padding: 0.75rem 1.5rem;
            border: none;
            border-radius: 4px;
            cursor: pointer;
            font-size: 1rem;
        }
        button:hover {
            background-color: #45a049;
        }
        .results {
            background-color: white;
            padding: 1rem;
            border-radius: 5px;
            box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);
            width: 100%;
        }
        .results h2 {
            margin-top: 0;
        }
        .results p {
            margin: 0.5rem 0;
        }
        .goal-form {
            margin-top: 2rem;
        }
        @media (prefers-color-scheme: dark) {
            body {
                background-color: #333;
                color: #f4f4f9;
            }
            header {
                background-color: #2e7d32;
            }
            button {
                background-color: #2e7d32;
            }
            button:hover {
                background-color: #1b5e20;
            }
        }
    </style>
</head>
<body>
    <header>
        <h1>Calorie Tracker</h1>
    </header>
    <main>
        <form id="foodForm" aria-labelledby="foodFormLabel">
            <h2 id="foodFormLabel">Log a Meal</h2>
            <label for="foodName">Food Name:</label>
            <input type="text" id="foodName" name="foodName" required aria-required="true">
            <label for="calories">Calories:</label>
            <input type="number" id="calories" name="calories" required aria-required="true" min="0">
            <button type="submit">Add Meal</button>
        </form>
        <form id="exerciseForm" aria-labelledby="exerciseFormLabel">
            <h2 id="exerciseFormLabel">Log an Exercise</h2>
            <label for="exerciseName">Exercise Name:</label>
            <input type="text" id="exerciseName" name="exerciseName" required aria-required="true">
            <label for="caloriesBurned">Calories Burned:</label>
            <input type="number" id="caloriesBurned" name="caloriesBurned" required aria-required="true" min="0">
            <button type="submit">Add Exercise</button>
        </form>
        <div class="results" aria-live="polite">
            <h2>Daily Totals</h2>
            <p>Calories Consumed: <span id="totalCaloriesConsumed">0</span></p>
            <p>Calories Burned: <span id="totalCaloriesBurned">0</span></p>
            <p>Net Calories: <span id="netCalories">0</span></p>
        </div>
        <form id="goalForm" class="goal-form" aria-labelledby="goalFormLabel">
            <h2 id="goalFormLabel">Set a Fitness Goal</h2>
            <label for="goalCalories">Calories Goal:</label>
            <input type="number" id="goalCalories" name="goalCalories" required aria-required="true" min="0">
            <button type="submit">Set Goal</button>
        </form>
        <div class="results" aria-live="polite">
            <h2>Fitness Goal</h2>
            <p>Calories Goal: <span id="caloriesGoal">0</span></p>
            <p>Progress: <span id="progress">0%</span></p>
        </div>
    </main>
    <script>
        document.addEventListener('DOMContentLoaded', () => {
            const foodForm = document.getElementById('foodForm');
            const exerciseForm = document.getElementById('exerciseForm');
            const goalForm = document.getElementById('goalForm');
            let totalCaloriesConsumed = 0;
            let totalCaloriesBurned = 0;
            let caloriesGoal = 0;

            foodForm.addEventListener('submit', (e) => {
                e.preventDefault();
                const calories = parseInt(document.getElementById('calories').value, 10);
                totalCaloriesConsumed += calories;
                updateTotals();
                foodForm.reset();
            });

            exerciseForm.addEventListener('submit', (e) => {
                e.preventDefault();
                const caloriesBurned = parseInt(document.getElementById('caloriesBurned').value, 10);
                totalCaloriesBurned += caloriesBurned;
                updateTotals();
                exerciseForm.reset();
            });

            goalForm.addEventListener('submit', (e) => {
                e.preventDefault();
                caloriesGoal = parseInt(document.getElementById('goalCalories').value, 10);
                updateProgress();
                goalForm.reset();
            });

            function updateTotals() {
                document.getElementById('totalCaloriesConsumed').textContent = totalCaloriesConsumed;
                document.getElementById('totalCaloriesBurned').textContent = totalCaloriesBurned;
                document.getElementById('netCalories').textContent = totalCaloriesConsumed - totalCaloriesBurned;
                updateProgress();
            }

            function updateProgress() {
                document.getElementById('caloriesGoal').textContent = caloriesGoal;
                const progress = caloriesGoal > 0 ? Math.min((totalCaloriesConsumed - totalCaloriesBurned) / caloriesGoal * 100, 100) : 0;
                document.getElementById('progress').textContent = `${progress.toFixed(2)}%`;
            }
        });
    </script>
</body>
</html>
