<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Eco-Friendly Products Showcase | Sustainable Living</title>
    <style>
        /* CSS Reset and Base Styles */
        *, *::before, *::after {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
        }

        /* Global Variables */
        :root {
            --primary-color: #2e7d32;
            --primary-light: #60ad5e;
            --primary-dark: #005005;
            --secondary-color: #81c784;
            --text-color: #333333;
            --text-light: #666666;
            --background-color: #f5f5f5;
            --card-color: #ffffff;
            --focus-color: #0066cc;
            --error-color: #d32f2f;
            --success-color: #388e3c;
            --border-radius: 4px;
            --spacing-xs: 0.25rem;
            --spacing-sm: 0.5rem;
            --spacing-md: 1rem;
            --spacing-lg: 1.5rem;
            --spacing-xl: 2rem;
            --font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }

        /* Base Styles */
        body {
            font-family: var(--font-family);
            line-height: 1.6;
            color: var(--text-color);
            background-color: var(--background-color);
            padding: 0;
            margin: 0;
        }

        /* Accessibility Focus Styles */
        button:focus, 
        input:focus, 
        select:focus, 
        textarea:focus, 
        a:focus,
        [tabindex]:focus {
            outline: 3px solid var(--focus-color);
            outline-offset: 2px;
        }

        .dark-bg button:focus, 
        .dark-bg a:focus, 
        .dark-bg [tabindex]:focus {
            outline: 3px solid #ffffff;
        }

        /* Skip Link */
        .skip-link {
            position: absolute;
            top: -40px;
            left: 0;
            background: var(--primary-color);
            color: white;
            padding: 8px;
            z-index: 100;
            transition: top 0.3s;
        }

        .skip-link:focus {
            top: 0;
        }

        /* Typography */
        h1, h2, h3, h4, h5, h6 {
            margin-bottom: var(--spacing-md);
            line-height: 1.2;
            color: var(--primary-dark);
        }

        h1 {
            font-size: 2.5rem;
            margin-bottom: var(--spacing-lg);
        }

        h2 {
            font-size: 2rem;
        }

        h3 {
            font-size: 1.5rem;
        }

        p {
            margin-bottom: var(--spacing-md);
        }

        /* Layout */
        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: var(--spacing-lg);
        }

        header {
            background-color: var(--primary-color);
            color: white;
            padding: var(--spacing-lg) 0;
        }

        .header-content {
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .logo {
            font-size: 1.5rem;
            font-weight: bold;
        }

        main {
            padding: var(--spacing-xl) 0;
        }

        footer {
            background-color: var(--primary-dark);
            color: white;
            padding: var(--spacing-xl) 0;
            margin-top: var(--spacing-xl);
        }

        /* Filter and Sort Controls */
        .controls {
            display: flex;
            flex-wrap: wrap;
            gap: var(--spacing-md);
            margin-bottom: var(--spacing-xl);
            align-items: center;
        }

        .filter-group, .sort-group {
            display: flex;
            flex-direction: column;
            min-width: 200px;
        }

        .filter-group label, .sort-group label {
            margin-bottom: var(--spacing-xs);
            font-weight: bold;
        }

        select {
            padding: var(--spacing-sm);
            border: 1px solid #ccc;
            border-radius: var(--border-radius);
            background-color: white;
            font-size: 1rem;
            height: 40px;
        }

        /* Product Grid */
        .products-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(280px, 1fr));
            gap: var(--spacing-lg);
        }

        .product-card {
            background-color: var(--card-color);
            border-radius: var(--border-radius);
            overflow: hidden;
            box-shadow: 0 2px 5px rgba(0, 0, 0, 0.1);
            transition: transform 0.3s ease, box-shadow 0.3s ease;
            position: relative;
        }

        .product-card:hover, 
        .product-card:focus-within {
            transform: translateY(-5px);
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
        }

        .product-image-container {
            position: relative;
            padding-top: 75%; /* 4:3 Aspect Ratio */
            overflow: hidden;
        }

        .product-image {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            object-fit: cover;
        }

        .product-content {
            padding: var(--spacing-md);
        }

        .product-category {
            display: inline-block;
            background-color: var(--secondary-color);
            color: var(--primary-dark);
            padding: 0.25rem 0.5rem;
            border-radius: var(--border-radius);
            font-size: 0.8rem;
            margin-bottom: var(--spacing-sm);
        }

        .product-name {
            font-size: 1.2rem;
            margin-bottom: var(--spacing-sm);
        }

        .product-price {
            font-weight: bold;
            color: var(--primary-dark);
            margin-bottom: var(--spacing-sm);
        }

        .product-actions {
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .quick-view-btn {
            background-color: var(--primary-color);
            color: white;
            border: none;
            padding: var(--spacing-sm) var(--spacing-md);
            border-radius: var(--border-radius);
            cursor: pointer;
            font-weight: bold;
            transition: background-color 0.3s;
        }

        .quick-view-btn:hover, 
        .quick-view-btn:focus {
            background-color: var(--primary-dark);
        }

        /* Product Details Modal */
        .modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.5);
            z-index: 1000;
            overflow-y: auto;
        }

        .modal-content {
            background-color: white;
            margin: 10% auto;
            padding: var(--spacing-lg);
            border-radius: var(--border-radius);
            max-width: 800px;
            position: relative;
        }

        .close-modal {
            position: absolute;
            top: var(--spacing-md);
            right: var(--spacing-md);
            font-size: 1.5rem;
            background: none;
            border: none;
            cursor: pointer;
            color: var(--text-color);
            width: 40px;
            height: 40px;
            display: flex;
            align-items: center;
            justify-content: center;
            border-radius: 50%;
        }

        .close-modal:hover, 
        .close-modal:focus {
            background-color: #f1f1f1;
        }

        .modal-product-details {
            display: flex;
            flex-wrap: wrap;
            gap: var(--spacing-lg);
        }

        .modal-product-image {
            flex: 1;
            min-width: 250px;
        }

        .modal-product-image img {
            width: 100%;
            border-radius: var(--border-radius);
        }

        .modal-product-info {
            flex: 2;
            min-width: 250px;
        }

        .modal-product-description {
            margin-bottom: var(--spacing-md);
        }

        .eco-benefits {
            margin-top: var(--spacing-md);
        }

        .eco-benefits h4 {
            margin-bottom: var(--spacing-sm);
        }

        .eco-benefits ul {
            padding-left: var(--spacing-lg);
        }

        /* No Results Message */
        .no-results {
            text-align: center;
            padding: var(--spacing-xl);
            grid-column: 1 / -1;
        }

        /* Loading Indicator */
        .loading {
            display: none;
            text-align: center;
            padding: var(--spacing-xl);
            grid-column: 1 / -1;
        }

        .loading-spinner {
            border: 4px solid rgba(0, 0, 0, 0.1);
            border-left: 4px solid var(--primary-color);
            border-radius: 50%;
            width: 40px;
            height: 40px;
            animation: spin 1s linear infinite;
            margin: 0 auto var(--spacing-md);
        }

        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }

        /* Responsive Adjustments */
        @media (max-width: 768px) {
            .controls {
                flex-direction: column;
                align-items: stretch;
            }

            .filter-group, .sort-group {
                width: 100%;
            }

            .products-grid {
                grid-template-columns: repeat(auto-fill, minmax(240px, 1fr));
            }

            .modal-content {
                margin: 5% auto;
                width: 90%;
            }
        }

        @media (max-width: 480px) {
            .products-grid {
                grid-template-columns: 1fr;
            }

            .header-content {
                flex-direction: column;
                text-align: center;
            }

            .logo {
                margin-bottom: var(--spacing-md);
            }
        }

        /* Utility Classes */
        .sr-only {
            position: absolute;
            width: 1px;
            height: 1px;
            padding: 0;
            margin: -1px;
            overflow: hidden;
            clip: rect(0, 0, 0, 0);
            white-space: nowrap;
            border-width: 0;
        }

        .visually-hidden:not(:focus):not(:active) {
            clip: rect(0 0 0 0);
            clip-path: inset(50%);
            height: 1px;
            overflow: hidden;
            position: absolute;
            white-space: nowrap;
            width: 1px;
        }
    </style>
</head>
<body>
    <a href="#main-content" class="skip-link">Skip to main content</a>
    
    <header>
        <div class="container header-content">
            <div class="logo" role="banner">
                <h1>EcoShop</h1>
            </div>
            <nav role="navigation" aria-label="Main navigation">
                <!-- Navigation content would go here in a real application -->
            </nav>
        </div>
    </header>

    <main id="main-content">
        <div class="container">
            <h2>Eco-Friendly Products</h2>
            <p>Browse our selection of sustainable products that help reduce environmental impact while enhancing your lifestyle.</p>

            <section aria-labelledby="filter-heading">
                <h3 id="filter-heading" class="sr-only">Filter and Sort Products</h3>
                <div class="controls">
                    <div class="filter-group">
                        <label for="category-filter">Filter by Category</label>
                        <select id="category-filter" aria-label="Filter products by category">
                            <option value="all">All Categories</option>
                            <option value="kitchen">Kitchen</option>
                            <option value="bathroom">Bathroom</option>
                            <option value="cleaning">Cleaning</option>
                            <option value="personal-care">Personal Care</option>
                            <option value="garden">Garden</option>
                        </select>
                    </div>
                    <div class="sort-group">
                        <label for="sort-by">Sort by</label>
                        <select id="sort-by" aria-label="Sort products">
                            <option value="popularity">Popularity</option>
                            <option value="price-low">Price: Low to High</option>
                            <option value="price-high">Price: High to Low</option>
                            <option value="newest">Newest</option>
                        </select>
                    </div>
                </div>
            </section>

            <section aria-labelledby="products-heading">
                <h3 id="products-heading" class="sr-only">Products</h3>
                <div class="loading" id="loading" aria-live="polite">
                    <div class="loading-spinner" aria-hidden="true"></div>
                    <p>Loading products...</p>
                </div>
                <div class="products-grid" id="products-grid" aria-live="polite">
                    <!-- Product cards will be dynamically inserted here -->
                </div>
            </section>
        </div>
    </main>

    <div id="product-modal" class="modal" role="dialog" aria-labelledby="modal-title" aria-modal="true" hidden>
        <div class="modal-content">
            <button id="close-modal" class="close-modal" aria-label="Close product details">
                ×
            </button>
            <div class="modal-product-details" id="modal-product-details">
                <!-- Modal content will be dynamically inserted here -->
            </div>
        </div>
    </div>

    <footer>
        <div class="container">
            <p>&copy; 2023 EcoShop. All sustainable products for a greener future.</p>
            <!-- Additional footer content would go here in a real application -->
        </div>
    </footer>

    <script>
        // Sample product data
        const products = [
            {
                id: 1,
                name: "Bamboo Cutlery Set",
                category: "kitchen",
                price: 12.99,
                image: "bamboo-cutlery.jpg",
                popularity: 95,
                description: "Reusable bamboo cutlery set including fork, knife, spoon, and chopsticks in a convenient cotton pouch.",
                benefits: [
                    "Biodegradable material",
                    "Reduces plastic waste",
                    "Lightweight and portable",
                    "Durable and long-lasting"
                ]
            },
            {
                id: 2,
                name: "Organic Cotton Produce Bags",
                category: "kitchen",
                price: 15.99,
                image: "produce-bags.jpg",
                popularity: 87,
                description: "Set of 5 reusable organic cotton mesh bags for grocery shopping and produce storage.",
                benefits: [
                    "Eliminates single-use plastic bags",
                    "Machine washable",
                    "Breathable material keeps produce fresh",
                    "Transparent mesh allows for easy identification"
                ]
            },
            {
                id: 3,
                name: "Bamboo Toothbrush Set",
                category: "bathroom",
                price: 9.99,
                image: "bamboo-toothbrush.jpg",
                popularity: 92,
                description: "Pack of 4 biodegradable bamboo toothbrushes with charcoal-infused bristles.",
                benefits: [
                    "Biodegradable handle",
                    "Reduces plastic waste",
                    "Charcoal bristles for natural whitening",
                    "BPA-free materials"
                ]
            },
            {
                id: 4,
                name: "Natural Loofah Sponges",
                category: "bathroom",
                price: 7.99,
                image: "loofah-sponges.jpg",
                popularity: 78,
                description: "Set of 3 natural loofah sponges for gentle exfoliation and cleansing.",
                benefits: [
                    "100% biodegradable",
                    "Plastic-free alternative to synthetic sponges",
                    "Naturally exfoliating",
                    "Compostable after use"
                ]
            },
            {
                id: 5,
                name: "Reusable Silicone Food Wraps",
                category: "kitchen",
                price: 18.99,
                image: "silicone-wraps.jpg",
                popularity: 89,
                description: "Set of various sized silicone food wraps to replace plastic wrap and aluminum foil.",
                benefits: [
                    "Reduces single-use plastic waste",
                    "Dishwasher safe",
                    "Heat resistant",
                    "Air-tight seal for food freshness"
                ]
            },
            {
                id: 6,
                name: "Concentrated All-Purpose Cleaner",
                category: "cleaning",
                price: 14.99,
                image: "eco-cleaner.jpg",
                popularity: 85,
                description: "Plant-based concentrated cleaner in a recyclable glass bottle. Makes up to 16 bottles when diluted.",
                benefits: [
                    "Non-toxic formula",
                    "Biodegradable ingredients",
                    "Reduces plastic packaging waste",
                    "Cruelty-free and vegan"
                ]
            },
            {
                id: 7,
                name: "Wool Dryer Balls",
                category: "cleaning",
                price: 16.99,
                image: "dryer-balls.jpg",
                popularity: 82,
                description: "Set of 6 wool dryer balls that naturally soften laundry and reduce drying time.",
                benefits: [
                    "Replaces disposable dryer sheets",
                    "Reduces drying time by up to 25%",
                    "100% natural wool",
                    "Lasts for over 1,000 loads"
                ]
            },
            {
                id: 8,
                name: "Biodegradable Phone Case",
                category: "personal-care",
                price: 24.99,
                image: "phone-case.jpg",
                popularity: 76,
                description: "Protective phone case made from biodegradable plant-based materials.",
                benefits: [
                    "Compostable materials",
                    "Reduces plastic waste",
                    "Durable protection",
                    "Available for multiple phone models"
                ]
            },
            {
                id: 9,
                name: "Compostable Plant Pots",
                category: "garden",
                price: 11.99,
                image: "plant-pots.jpg",
                popularity: 79,
                description: "Set of 12 biodegradable plant pots made from coconut coir.",
                benefits: [
                    "100% biodegradable",
                    "Plant directly in soil - no transplant shock",
                    "Improves soil quality as it breaks down",
                    "Perfect for seedlings and small plants"
                ]
            },
            {
                id: 10,
                name: "Reusable Coffee Cup",
                category: "kitchen",
                price: 19.99,
                image: "coffee-cup.jpg",
                popularity: 94,
                description: "Insulated reusable coffee cup made from bamboo fiber with a silicone lid and sleeve.",
                benefits: [
                    "Reduces single-use cup waste",
                    "Keeps drinks hot for up to 1 hour",
                    "BPA-free materials",
                    "Dishwasher safe"
                ]
            },
            {
                id: 11,
                name: "Organic Shampoo Bar",
                category: "bathroom",
                price: 8.99,
                image: "shampoo-bar.jpg",
                popularity: 88,
                description: "Zero-waste solid shampoo bar with organic ingredients in plastic-free packaging.",
                benefits: [
                    "Eliminates plastic bottles",
                    "Natural ingredients",
                    "Lasts longer than liquid shampoo",
                    "Travel-friendly"
                ]
            },
            {
                id: 12,
                name: "Rainwater Collection System",
                category: "garden",
                price: 89.99,
                image: "rainwater-system.jpg",
                popularity: 72,
                description: "Compact rainwater harvesting system with 50-gallon capacity and filtration.",
                benefits: [
                    "Conserves water",
                    "Reduces water bills",
                    "Easy installation",
                    "Includes overflow protection"
                ]
            }
        ];

        // DOM Elements
        const productsGrid = document.getElementById('products-grid');
        const categoryFilter = document.getElementById('category-filter');
        const sortBy = document.getElementById('sort-by');
        const loadingIndicator = document.getElementById('loading');
        const modal = document.getElementById('product-modal');
        const modalDetails = document.getElementById('modal-product-details');
        const closeModalButton = document.getElementById('close-modal');

        // Filter and sort products
        function filterAndSortProducts() {
            // Show loading indicator
            loadingIndicator.style.display = 'block';
            productsGrid.innerHTML = '';
            
            // Simulate loading delay
            setTimeout(() => {
                const selectedCategory = categoryFilter.value;
                const selectedSort = sortBy.value;
                
                // Filter products
                let filteredProducts = [...products];
                if (selectedCategory !== 'all') {
                    filteredProducts = filteredProducts.filter(product => product.category === selectedCategory);
                }
                
                // Sort products
                switch (selectedSort) {
                    case 'price-low':
                        filteredProducts.sort((a, b) => a.price - b.price);
                        break;
                    case 'price-high':
                        filteredProducts.sort((a, b) => b.price - a.price);
                        break;
                    case 'popularity':
                        filteredProducts.sort((a, b) => b.popularity - a.popularity);
                        break;
                    case 'newest':
                        // In a real app, we would sort by date
                        // Here we'll just reverse the array as a simple simulation
                        filteredProducts.reverse();
                        break;
                }
                
                // Display products
                displayProducts(filteredProducts);
                
                // Hide loading indicator
                loadingIndicator.style.display = 'none';
            }, 500); // Simulated delay
        }

        // Display products in the grid
        function displayProducts(productsToDisplay) {
            productsGrid.innerHTML = '';
            
            if (productsToDisplay.length === 0) {
                const noResults = document.createElement('div');
                noResults.className = 'no-results';
                noResults.innerHTML = '<h3>No products found</h3><p>Try adjusting your filters to see more products.</p>';
                productsGrid.appendChild(noResults);
                return;
            }
            
            productsToDisplay.forEach(product => {
                // Create product card
                const productCard = document.createElement('article');
                productCard.className = 'product-card';
                productCard.setAttribute('tabindex', '0');
                
                // Use a placeholder image with appropriate alt text
                const imagePlaceholder = `https://via.placeholder.com/300x225/e0f2e0/2e7d32?text=${encodeURIComponent(product.name)}`;
                
                productCard.innerHTML = `
                    <div class="product-image-container">
                        <img src="${imagePlaceholder}" alt="${product.name}" class="product-image">
                    </div>
                    <div class="product-content">
                        <span class="product-category">${getCategoryName(product.category)}</span>
                        <h3 class="product-name">${product.name}</h3>
                        <p class="product-price">$${product.price.toFixed(2)}</p>
                        <div class="product-actions">
                            <button class="quick-view-btn" data-product-id="${product.id}" aria-label="Quick view of ${product.name}">
                                Quick View
                            </button>
                        </div>
                    </div>
                `;
                
                productsGrid.appendChild(productCard);
                
                // Add event listener to the quick view button
                const quickViewBtn = productCard.querySelector('.quick-view-btn');
                quickViewBtn.addEventListener('click', (event) => {
                    event.preventDefault();
                    openProductModal(product.id);
                });
                
                // Add keyboard event for the entire card
                productCard.addEventListener('keydown', (event) => {
                    if (event.key === 'Enter') {
                        openProductModal(product.id);
                    }
                });
            });
        }

        // Get readable category name
        function getCategoryName(categorySlug) {
            const categoryMap = {
                'kitchen': 'Kitchen',
                'bathroom': 'Bathroom',
                'cleaning': 'Cleaning',
                'personal-care': 'Personal Care',
                'garden': 'Garden'
            };
            return categoryMap[categorySlug] || categorySlug;
        }

        // Open product modal
        function openProductModal(productId) {
            const product = products.find(p => p.id === productId);
            if (!product) return;
            
            const imagePlaceholder = `https://via.placeholder.com/500x375/e0f2e0/2e7d32?text=${encodeURIComponent(product.name)}`;
            
            modalDetails.innerHTML = `
                <div class="modal-product-image">
                    <img src="${imagePlaceholder}" alt="${product.name}">
                </div>
                <div class="modal-product-info">
                    <h3 id="modal-title">${product.name}</h3>
                    <p class="product-price">$${product.price.toFixed(2)}</p>
                    <p class="product-category"><strong>Category:</strong> ${getCategoryName(product.category)}</p>
                    <div class="modal-product-description">
                        <p>${product.description}</p>
                    </div>
                    <div class="eco-benefits">
                        <h4>Environmental Benefits</h4>
                        <ul>
                            ${product.benefits.map(benefit => `<li>${benefit}</li>`).join('')}
                        </ul>
                    </div>
                </div>
            `;
            
            modal.removeAttribute('hidden');
            modal.style.display = 'block';
            
            // Focus on the close button when modal opens
            closeModalButton.focus();
            
            // Trap focus within modal
            trapFocus(modal);
        }

        // Close product modal
        function closeProductModal() {
            modal.style.display = 'none';
            modal.setAttribute('hidden', 'true');
            
            // Return focus to the element that opened the modal
            // In a real app, we would track this element
            document.querySelector('.quick-view-btn:focus') || document.querySelector('.product-card:focus') || document.body.focus();
        }

        // Trap focus within modal
        function trapFocus(element) {
            const focusableElements = element.querySelectorAll('button, [href], input, select, textarea, [tabindex]:not([tabindex="-1"])');
            const firstFocusableElement = focusableElements[0];
            const lastFocusableElement = focusableElements[focusableElements.length - 1];
            
            element.addEventListener('keydown', function(e) {
                if (e.key === 'Escape') {
                    closeProductModal();
                }
                
                if (e.key === 'Tab') {
                    // If shift + tab and focus is on first element, move to last element
                    if (e.shiftKey && document.activeElement === firstFocusableElement) {
                        e.preventDefault();
                        lastFocusableElement.focus();
                    }
                    // If tab and focus is on last element, move to first element
                    else if (!e.shiftKey && document.activeElement === lastFocusableElement) {
                        e.preventDefault();
                        firstFocusableElement.focus();
                    }
                }
            });
        }

        // Event Listeners
        document.addEventListener('DOMContentLoaded', () => {
            // Initial display of products
            filterAndSortProducts();
            
            // Filter and sort change events
            categoryFilter.addEventListener('change', filterAndSortProducts);
            sortBy.addEventListener('change', filterAndSortProducts);
            
            // Close modal events
            closeModalButton.addEventListener('click', closeProductModal);
            modal.addEventListener('click', (event) => {
                if (event.target === modal) {
                    closeProductModal();
                }
            });
            
            // Keyboard event handling for interactive elements
            document.addEventListener('keydown', function(event) {
                if (event.key === 'Escape' && modal.style.display === 'block') {
                    closeProductModal();
                }
            });
        });

        // Handle keyboard interactions for all interactive elements
        function handleInteraction(event) {
            if (event.type === 'click' || 
                (event.type === 'keydown' && (event.key === 'Enter' || event.key === ' '))) {
                // Prevent default space key behavior (scrolling)
                if (event.key === ' ') {
                    event.preventDefault();
                }
                
                // Execute the action
                event.currentTarget.click();
            }
        }
    </script>
</body>
</html>
